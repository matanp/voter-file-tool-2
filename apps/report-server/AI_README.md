# AI-Generated README: Report Server

This README was generated by an AI assistant to provide an overview of the report server for the `voter-file-tool` project.

## Overview

This is a Node.js service responsible for generating PDF documents, specifically designating petitions, for the `voter-file-tool` application. It is designed to be a standalone microservice that can be called by the main frontend application.

## Technology Stack

-   **Runtime:** [Node.js](https://nodejs.org/)
-   **Framework:** [Express](https://expressjs.com/)
-   **Language:** [TypeScript](https://www.typescriptlang.org/)
-   **PDF Generation:** [Puppeteer](https://pptr.dev/)
-   **Templating:** [React](https://reactjs.org/) and [JSX](https://reactjs.org/docs/introducing-jsx.html)
-   **Deployment:** [AWS Lightsail](https://aws.amazon.com/lightsail/)

## Architecture

The report server exposes an HTTP endpoint that the frontend can call to request a PDF. The server then:

1.  Receives a request with data for the report (e.g., candidate information, election details).
2.  Uses React and JSX (`DesignatingPetition.tsx`) to render an HTML document from this data.
3.  Launches a headless instance of Chromium using Puppeteer.
4.  Loads the generated HTML into a new page in the headless browser.
5.  Prints the page to a PDF buffer.
6.  Returns the PDF to the client.

This architecture allows for creating complex, data-driven PDF layouts using familiar React components and CSS for styling.

## Project Structure

-   `src/index.ts`: The main entry point for the server, where the Express app is configured and started.
-   `src/components/DesignatingPetition.tsx`: The React component that defines the layout and structure of the designating petition PDF.
-   `src/styles/tailwind.css`: The Tailwind CSS file used for styling the petition.
-   `public/`: The output directory for the compiled CSS.
-   `nodemon.json`: Configuration for running the server in development with automatic restarts.

## Getting Started

1.  Install dependencies: `pnpm install`
2.  Create a `.env` file if any environment variables are needed.
3.  Start the development server: `pnpm dev`
4.  Build the CSS: `pnpm build:css`

The server will start on the port defined in the code (e.g., 8080) and will be ready to accept requests for PDF generation.
