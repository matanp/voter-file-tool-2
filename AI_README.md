# AI-Generated README

This README was generated by an AI assistant to provide a high-level overview of the `voter-file-tool` project.

## Project Purpose

The `voter-file-tool` is a full-stack web application designed for managing and interacting with voter file data. It provides tools for searching voter records, organizing them into committees, and generating political documents like designating petitions. The application is aimed at political campaigns, committees, and activists who need to work with voter data.

## Architecture

This project is a monorepo containing three main components:

1.  **Frontend (`apps/frontend`):** A Next.js web application that serves as the main user interface for interacting with the voter data.
2.  **Report Server (`apps/report-server`):** A Node.js service responsible for generating PDF documents, such as designating petitions.
3.  **Infrastructure (`main.tf`):** The infrastructure for the project is defined using Terraform.

### Frontend

-   **Framework:** Next.js (React)
-   **Language:** TypeScript
-   **Styling:** Tailwind CSS
-   **Database ORM:** Prisma
-   **Authentication:** NextAuth.js with Google OAuth
-   **Deployment:** Vercel

The frontend allows users to:
-   Search for voter records using various filters.
-   View detailed voter information, including voting history.
-   Manage committee lists based on geographic districts.
-   Request changes to committee memberships.
-   Authenticate and manage user access levels.

### Report Server

-   **Framework:** Node.js with Express
-   **Language:** TypeScript
-   **PDF Generation:** Puppeteer
-   **Templating:** React
-   **Deployment:** AWS Lightsail

The report server is a specialized service that receives requests to generate PDF documents. It uses Puppeteer to render React components into PDFs, allowing for complex and dynamic document layouts.

### Infrastructure

The project's infrastructure is managed using Terraform (`main.tf`).

-   The Next.js frontend is deployed to **Vercel**, with domains (`voterfile.org`, `www.voterfile.org`) and environment variables managed through the Vercel platform.
-   The Node.js report server is deployed to an **AWS Lightsail** instance. The provisioning script in the Terraform file handles the setup of the server, including installing dependencies and running the application.
-   The database is a **PostgreSQL** instance, connected to the frontend via a connection pool URL managed in Vercel.

## How It Works

A user interacts with the frontend application hosted on Vercel. When they perform an action that requires data, the Next.js application queries the PostgreSQL database via Prisma. When a user requests to generate a report (e.g., a petition), the frontend application makes a request to the report server running on AWS Lightsail. The report server then generates the PDF and returns it to the user.
