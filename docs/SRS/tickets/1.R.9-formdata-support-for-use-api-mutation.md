# 1.R.9 FormData Support for useApiMutation (P2)

**Status:** Open
**Priority:** P2 — Medium
**Effort:** 1–2 days
**Depends on:** [1.4 Seat Model](1.4-seat-model.md)

## Summary

`WeightedTableImport` still uses raw `fetch` because `useApiMutation` assumes JSON payloads and does not support multipart `FormData`. This creates inconsistent mutation patterns in admin data flows and keeps duplicate submit-state/error handling logic in the component.

## Acceptance Criteria

- [ ] Extend `useApiMutation` (or add a sibling mutation hook) to support `FormData` payloads without JSON serialization.
- [ ] Preserve existing JSON behavior for current mutation callers.
- [ ] Migrate `WeightedTableImport` to the hook-based mutation path and remove duplicate submission state handling.
- [ ] Add tests covering:
  - JSON request path remains unchanged.
  - FormData request path sets request body/headers correctly.
- [ ] Document hook usage guidance for JSON vs multipart mutations.

## Implementation Notes

- Avoid setting `Content-Type: application/json` when payload is `FormData`; let the browser set multipart boundary headers.
- Keep API ergonomics simple (explicit payload type or inferred by body instance).

## Related

- [FINDINGS_REMEDIATION_LOG.md](../../CODEBASE_AUDIT/FINDINGS_REMEDIATION_LOG.md) item 11
- [1.4 Seat Model](1.4-seat-model.md)
