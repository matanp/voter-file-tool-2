# 3.1a CommitteeSelector Vacancy/Weight + Empty States

**Status:** Open
**Roadmap:** [SRS_IMPLEMENTATION_ROADMAP.md](../SRS_IMPLEMENTATION_ROADMAP.md) §3.1a
**Effort:** 0.5–1 day
**Depends on:** [2.7 Weight / Designation Logic](2.7-weight-designation-logic.md), [3.1 Jurisdiction Assignment UI](3.1-jurisdiction-assignment-ui.md)

## Summary

Deliver the minimal CommitteeSelector UX contract: vacancy/weight summary block and finalized empty-state copy/placement. This is a UI-polish ticket — the data is already available from 2.7 and the jurisdiction filtering from 3.1.

## Current State

- **Vacancy count** is already computed and displayed in `CommitteeSelector.tsx` — the component fetches `/api/committee/fetchLoaded?includeDesignationWeightSummary=true` and shows seat occupancy data.
- **Designation weight summary** is already rendered as a table in `CommitteeSelector.tsx` showing per-seat breakdown (seat number, petitioned status, occupied, contribution weight).
- **Empty states** exist but are ad-hoc — the `noContentMessage()` function (in CommitteeSelector) returns different strings based on selection state but does not handle the jurisdiction-specific scenarios from 3.1.
- **No standardized copy or format** — vacancy and weight displays use inline text without consistent formatting patterns.

## Acceptance Criteria

### Summary Block — Placement & Design
- [ ] Create a `CommitteeSummaryBlock` component placed **between the district selector dropdowns and the member list** in `CommitteeSelector.tsx`.
  - This is the single canonical location — visible immediately after selecting a committee.
  - Renders as a compact `Card` (not a full table) with 2–3 key metrics.
- [ ] Summary block shows:
  - **Vacancy status**: badge or text line
  - **Designation weight total**: labeled number
  - **Seat count**: "X of Y seats filled"

### Vacancy Copy Variants
- [ ] Standardize vacancy display copy:
  - `0 open seats` → Show green badge: **"Full"**
  - `1 open seat` → Show amber badge: **"1 open seat"** (singular)
  - `N open seats` (N > 1) → Show amber badge: **"N open seats"** (plural)
  - `maxSeatsPerLted open seats` (all vacant) → Show red badge: **"All N seats vacant"**
- [ ] Use consistent badge colors from the app's existing design system (Tailwind classes):
  - Full: `bg-green-100 text-green-800`
  - Partially vacant: `bg-amber-100 text-amber-800`
  - All vacant: `bg-red-100 text-red-800`

### Designation Weight Display
- [ ] Label: **"Designation Weight"** (consistent across UI and reports).
- [ ] Format: Display as number rounded to 2 decimal places (e.g., `"4.25"`).
- [ ] Missing weight: Display **"—"** (em dash, not `0` or `N/A`) when:
  - No LTED weight is set (`ltedWeight` is null)
  - No petitioned seats exist
  - `missingWeightSeatNumbers` is non-empty (show `—` with tooltip: "Weight unavailable for seats X, Y")
- [ ] Zero weight (valid): Display **"0.00"** when weight is legitimately calculated as zero.

### Empty State Copy — Finalized
- [ ] **No jurisdictions assigned** (Leader with zero `UserJurisdiction` records):
  - Heading: "No Committee Access"
  - Body: "You have not been assigned any jurisdictions. Contact your county administrator to get committee access."
  - Placement: Replaces the entire committee selector (dropdowns + member list).
  - Style: Centered card with muted text, matching existing `text-muted-foreground` pattern.
- [ ] **Jurisdictions assigned but no committees** (Leader's jurisdictions match zero committees):
  - Heading: "No Committees Found"
  - Body: "No committees exist in your assigned jurisdictions for the current term. Your assigned areas: [list of cityTown/legDistrict pairs]."
  - Placement: Replaces the member list area (dropdowns still visible but disabled).
- [ ] **Committee selected but no members** (Admin or Leader with valid selection, zero active memberships):
  - Body: "No active committee members. Use the form below to add members."
  - Placement: In the member list area. (This is the existing behavior; just standardize the copy.)

### Future-Proofing Note
- [ ] Add a code comment on the `CommitteeSummaryBlock` component: `// NOTE: This block must be preserved in future table-based CommitteeSelector redesign (see SRS_UI_PLANNING_GAPS §15)`.
- [ ] The summary block should be a standalone component that accepts props (`vacancyCount`, `totalSeats`, `designationWeight`, `missingWeightSeats`) rather than being inline in CommitteeSelector — this enables reuse in the future redesign.

## Implementation Steps

1. **Extract `CommitteeSummaryBlock`** — Create `apps/frontend/src/app/committees/CommitteeSummaryBlock.tsx` as a standalone component.
2. **Standardize vacancy copy** — Implement the badge variants with the copy rules above.
3. **Standardize weight display** — Implement the formatting and `—` fallback logic.
4. **Finalize empty states** — Update `CommitteeSelector.tsx` to use the 3 empty-state variants with finalized copy. The "No jurisdictions" and "No committees in jurisdictions" states depend on the jurisdiction data from 3.1.
5. **Test** — Snapshot or visual test for each vacancy variant, weight format, and empty state.

## Files to Create

| File | Purpose |
|------|---------|
| `apps/frontend/src/app/committees/CommitteeSummaryBlock.tsx` | Reusable vacancy + weight summary block |

## Files to Modify

| File | Change |
|------|--------|
| `apps/frontend/src/app/committees/CommitteeSelector.tsx` | Integrate `CommitteeSummaryBlock`, update empty states with finalized copy |

## Related

- [SRS_UI_PLANNING_GAPS.md](../SRS_UI_PLANNING_GAPS.md) §11, §12, §15
- [SRS_IMPLEMENTATION_ROADMAP.md](../SRS_IMPLEMENTATION_ROADMAP.md) §3.1a
- [2.7 Weight / Designation Logic](2.7-weight-designation-logic.md)
- [3.1 Jurisdiction Assignment UI](3.1-jurisdiction-assignment-ui.md)
